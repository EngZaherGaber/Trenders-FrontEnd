<div class="container">
  <svg
    id="wave2"
    class="first"
    style="transform: rotate(0deg); transition: 0.3s"
    viewBox="0 0 1440 300"
    version="1.1"
    xmlns="http://www.w3.org/2000/svg"
  >
    <defs>
      <linearGradient id="sw-gradient-0" x1="0" x2="0" y1="1" y2="0">
        <stop stop-color="rgba(225, 235, 245, 1)" offset="0%"></stop>
        <stop stop-color="rgba(186, 197, 243, 1)" offset="100%"></stop>
      </linearGradient>
    </defs>
    <path
      style="transform: translate(0, 0px); opacity: 1"
      fill="url(#sw-gradient-0)"
      d="M0,210L80,200C160,190,320,170,480,175C640,180,800,210,960,205C1120,200,1280,160,1440,135C1600,110,1760,100,1920,100C2080,100,2240,110,2400,100C2560,90,2720,60,2880,80C3040,100,3200,170,3360,185C3520,200,3680,160,3840,135C4000,110,4160,100,4320,110C4480,120,4640,150,4800,155C4960,160,5120,140,5280,155C5440,170,5600,220,5760,240C5920,260,6080,250,6240,205C6400,160,6560,80,6720,85C6880,90,7040,180,7200,195C7360,210,7520,150,7680,145C7840,140,8000,190,8160,190C8320,190,8480,140,8640,135C8800,130,8960,170,9120,185C9280,200,9440,190,9600,160C9760,130,9920,80,10080,85C10240,90,10400,150,10560,170C10720,190,10880,170,11040,170C11200,170,11360,190,11440,200L11520,210L11520,300L11440,300C11360,300,11200,300,11040,300C10880,300,10720,300,10560,300C10400,300,10240,300,10080,300C9920,300,9760,300,9600,300C9440,300,9280,300,9120,300C8960,300,8800,300,8640,300C8480,300,8320,300,8160,300C8000,300,7840,300,7680,300C7520,300,7360,300,7200,300C7040,300,6880,300,6720,300C6560,300,6400,300,6240,300C6080,300,5920,300,5760,300C5600,300,5440,300,5280,300C5120,300,4960,300,4800,300C4640,300,4480,300,4320,300C4160,300,4000,300,3840,300C3680,300,3520,300,3360,300C3200,300,3040,300,2880,300C2720,300,2560,300,2400,300C2240,300,2080,300,1920,300C1760,300,1600,300,1440,300C1280,300,1120,300,960,300C800,300,640,300,480,300C320,300,160,300,80,300L0,300Z"
    ></path>
  </svg>

  <form [formGroup]="form">
    <mat-stepper
      color="primary"
      [orientation]="(stepperOrientation | async)!"
      animationDuration="2000"
      class="stepper"
      linear="true"
    >
      <mat-step
        [stepControl]="form.controls.user_info.controls.type"
        formGroupName="user_info"
      >
        <mat-card class="btn-div">
          <mat-card-header class="title"> Choose Your Type </mat-card-header>
          <mat-radio-group
            required
            disableRipple="false"
            formControlName="type"
            aria-label="Select Your type"
          >
            <mat-radio-button
              style="width: 100%"
              value="company"
              class="rd-btn"
            >
              <button
                type="button"
                [color]="
                  form.controls.user_info.value.type === 'company'
                    ? 'accent'
                    : 'primary'
                "
                mat-fab
                extended
                style="width: 100%"
                (click)="
                  form.controls.user_info.controls.type.patchValue('company')
                "
              >
                <mat-icon
                  [color]="
                    form.controls.user_info.value.type !== 'company'
                      ? 'accent'
                      : 'primary'
                  "
                  >business</mat-icon
                >
                <div class="btn-para">Company</div>
              </button>
            </mat-radio-button>
            <mat-radio-button
              value="instute"
              class="rd-btn"
              style="width: 100%"
            >
              <button
                type="button"
                style="width: 100%"
                [color]="
                  form.controls.user_info.value.type === 'instute'
                    ? 'accent'
                    : 'primary'
                "
                mat-fab
                extended
                (click)="
                  this.form.controls.user_info.controls.type.patchValue(
                    'instute'
                  )
                "
              >
                <mat-icon
                  [color]="
                    form.controls.user_info.value.type !== 'instute'
                      ? 'accent'
                      : 'primary'
                  "
                  >person</mat-icon
                >
                <div class="btn-para">institute</div>
              </button>
            </mat-radio-button>
          </mat-radio-group>
          <div class="action-div">
            <button
              type="button"
              matStepperNext
              mat-raised-button
              [disabled]="form.controls.user_info.value.type === ''"
              color="primary"
            >
              Next
            </button>
          </div>
        </mat-card>
      </mat-step>

      <mat-step
        formGroupName="user_info"
        [stepControl]="form.controls.user_info"
      >
        <mat-card class="btn-div">
          <mat-card-header class="title">
            Fill Your Information
          </mat-card-header>
          <mat-form-field>
            <mat-label>Username</mat-label>
            <input matInput formControlName="username" />
            <mat-error
              *ngIf="
                form.controls.user_info.controls.username.invalid &&
                form.controls.user_info.controls.username.touched
              "
              >{{ getUsernameErrorMessage() }}</mat-error
            >
          </mat-form-field>

          <mat-form-field>
            <mat-label>Email</mat-label>
            <input matInput formControlName="email" />
            <mat-error
              *ngIf="
                form.controls.user_info.controls.email.invalid &&
                form.controls.user_info.controls.email.touched
              "
              >{{ getEmailErrorMessage() }}</mat-error
            >
          </mat-form-field>

          <mat-form-field>
            <mat-label>password</mat-label>
            <input
              matInput
              type="password"
              formControlName="password"
              [type]="!hide ? 'password' : 'text'"
            />
            <div
              class="like-btn"
              mat-icon-button
              matSuffix
              (click)="hide = !hide"
              [attr.aria-label]="'Hide password'"
              [attr.aria-pressed]="hide"
            >
              <mat-icon color="primary">{{
                !hide ? "visibility_off" : "visibility"
              }}</mat-icon>
            </div>
            <mat-error
              *ngIf="
                form.controls.user_info.controls.password.invalid &&
                form.controls.user_info.controls.password.touched
              "
              >{{ getPasswordErrorMessage() }}</mat-error
            >
          </mat-form-field>

          <mat-form-field>
            <mat-label>Confirm password</mat-label>
            <input
              formControlName="confirm"
              matInput
              type="password"
              #confirmP
              name="confirm"
              required
              [type]="!hideConfirm ? 'password' : 'text'"
            />
            <div
              class="like-btn"
              mat-icon-button
              matSuffix
              (click)="hideConfirm = !hideConfirm"
              [attr.aria-label]="'Hide password'"
              [attr.aria-pressed]="hide"
            >
              <mat-icon color="primary">{{
                !hideConfirm ? "visibility_off" : "visibility"
              }}</mat-icon>
            </div>
            <mat-error
              *ngIf="form.controls.user_info.controls.confirm.invalid"
              >{{ getConfirmErrorMessage() }}</mat-error
            >
          </mat-form-field>

          <div>
            <label>Upload Image</label>
            <input
              type="file"
              (change)="onFileSelected($event)"
              accept="image/*"
            />
          </div>
          <div class="action-div">
            <button
              type="button"
              matStepperPrevious
              mat-raised-button
              color="accent"
            >
              Preivous
            </button>
            <button
              type="button"
              matStepperNext
              mat-raised-button
              color="primary"
              [disabled]="
                form.controls.user_info.controls.username.invalid ||
                form.controls.user_info.controls.email.invalid ||
                form.controls.user_info.controls.password.invalid ||
                form.controls.user_info.controls.confirm.invalid ||
                !form.controls.user_info.controls.img.touched
              "
            >
              Next
            </button>
          </div>
        </mat-card>
      </mat-step>

      <mat-step
        [stepControl]="form.controls.other_info"
        formGroupName="other_info"
      >
        <mat-card class="btn-div">
          <mat-card-header class="title"> Rest Of Information </mat-card-header>
          <mat-form-field>
            <mat-label>Categories</mat-label>
            <mat-select formControlName="categories" multiple>
              <mat-option
                *ngFor="let catgeory of Lcategories$ | async"
                [value]="catgeory.id"
                >{{ catgeory.name }}</mat-option
              >
            </mat-select>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Created Date</mat-label>
            <input
              matInput
              [matDatepicker]="picker"
              placeholder="YYYY"
              formControlName="createdDate"
              #inpyeardate
              hidden
            />
            <input matInput [value]="inpyeardate.value.slice(6)" />
            <mat-hint>YYYY</mat-hint>
            <mat-datepicker-toggle
              matIconSuffix
              [for]="picker"
            ></mat-datepicker-toggle>
            <mat-datepicker
              #picker
              (yearSelected)="onYearSelected($event, picker)"
              startView="multi-year"
              yearSelect="true"
              [panelClass]="'year-picker'"
            ></mat-datepicker>
          </mat-form-field>
          <mat-form-field>
            <mat-label>City</mat-label>
            <mat-select formControlName="address">
              <mat-option
                *ngFor="let item of Lcities$ | async"
                [value]="item"
                >{{ item }}</mat-option
              >
            </mat-select>
            <mat-error
              *ngIf="
                form.controls.other_info.controls.address.invalid &&
                form.controls.other_info.controls.address.touched
              "
              >{{ getAddressErrorMessage() }}</mat-error
            >
          </mat-form-field>
          <mat-form-field
            *ngIf="this.form.controls.other_info.value.address !== ''"
          >
            <mat-label>Address</mat-label>
            <input
              (change)="changeAddress($event)"
              matInput
              name="address"
              required
            />
          </mat-form-field>
          <div class="action-div">
            <button type="button" matStepperPrevious mat-raised-button>
              Preivous
            </button>
            <button
              type="button"
              matStepperNext
              mat-raised-button
              color="primary"
              [disabled]="
                form.controls.user_info.controls.username.invalid ||
                form.controls.user_info.controls.email.invalid ||
                form.controls.other_info.controls.categories.invalid ||
                form.controls.other_info.controls.createdDate.invalid ||
                form.controls.other_info.controls.address.invalid ||
                form.controls.user_info.controls.type.invalid ||
                form.controls.user_info.controls.password.invalid
              "
              (click)="submit()"
            >
              Submit
            </button>
          </div>
        </mat-card>
      </mat-step>
    </mat-stepper>
  </form>

  <svg
    id="wave"
    class="first"
    style="transform: rotate(0deg); transition: 0.3s"
    viewBox="0 0 1440 300"
    version="1.1"
    xmlns="http://www.w3.org/2000/svg"
  >
    <defs>
      <linearGradient id="sw-gradient-0" x1="0" x2="0" y1="1" y2="0">
        <stop stop-color="rgba(225, 235, 245, 1)" offset="0%"></stop>
        <stop stop-color="rgba(186, 197, 243, 1)" offset="100%"></stop>
      </linearGradient>
    </defs>
    <path
      style="transform: translate(0, 0px); opacity: 1"
      fill="url(#sw-gradient-0)"
      d="M0,210L80,200C160,190,320,170,480,175C640,180,800,210,960,205C1120,200,1280,160,1440,135C1600,110,1760,100,1920,100C2080,100,2240,110,2400,100C2560,90,2720,60,2880,80C3040,100,3200,170,3360,185C3520,200,3680,160,3840,135C4000,110,4160,100,4320,110C4480,120,4640,150,4800,155C4960,160,5120,140,5280,155C5440,170,5600,220,5760,240C5920,260,6080,250,6240,205C6400,160,6560,80,6720,85C6880,90,7040,180,7200,195C7360,210,7520,150,7680,145C7840,140,8000,190,8160,190C8320,190,8480,140,8640,135C8800,130,8960,170,9120,185C9280,200,9440,190,9600,160C9760,130,9920,80,10080,85C10240,90,10400,150,10560,170C10720,190,10880,170,11040,170C11200,170,11360,190,11440,200L11520,210L11520,300L11440,300C11360,300,11200,300,11040,300C10880,300,10720,300,10560,300C10400,300,10240,300,10080,300C9920,300,9760,300,9600,300C9440,300,9280,300,9120,300C8960,300,8800,300,8640,300C8480,300,8320,300,8160,300C8000,300,7840,300,7680,300C7520,300,7360,300,7200,300C7040,300,6880,300,6720,300C6560,300,6400,300,6240,300C6080,300,5920,300,5760,300C5600,300,5440,300,5280,300C5120,300,4960,300,4800,300C4640,300,4480,300,4320,300C4160,300,4000,300,3840,300C3680,300,3520,300,3360,300C3200,300,3040,300,2880,300C2720,300,2560,300,2400,300C2240,300,2080,300,1920,300C1760,300,1600,300,1440,300C1280,300,1120,300,960,300C800,300,640,300,480,300C320,300,160,300,80,300L0,300Z"
    ></path>
  </svg>
</div>
